<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Portal | Enterprise Dashboard</title>
    
    <!-- Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: {
                        primary: '#F97316', 
                        primaryHover: '#EA580C',
                        dark: '#0F172A',
                        surface: '#FFFFFF',
                        background: '#F8FAFC',
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0, 0, 0, 0.05)',
                        'glow': '0 0 15px rgba(249, 115, 22, 0.3)'
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #F8FAFC; color: #334155; }
        
        /* Smooth Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #CBD5E1; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #94A3B8; }

        /* Animations */
        .animate-enter { animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; opacity: 0; transform: translateY(20px); }
        .delay-100 { animation-delay: 100ms; }
        .delay-200 { animation-delay: 200ms; }
        
        @keyframes slideUp { to { opacity: 1; transform: translateY(0); } }

        /* Skeleton Loading */
        .skeleton {
            background: #E2E8F0;
            background-image: linear-gradient(to right, #E2E8F0 0%, #F1F5F9 20%, #E2E8F0 40%, #E2E8F0 100%);
            background-repeat: no-repeat;
            background-size: 200% 100%; 
            animation: shimmer 1.5s infinite linear; 
        }
        @keyframes shimmer { 0% { background-position: 100% 0; } 100% { background-position: -100% 0; } }
    </style>
</head>
<body>

    <div id="root"></div>

    <script type="text/babel">
        /*******************************************************
         * MOCK BACKEND & DATA
         *******************************************************/
        const DB = {
            profiles: [
                {
                    id: 1,
                    name: "Sahulham Anora",
                    role: "Computer Science Student",
                    email: "sahulham.anora@university.edu",
                    location: "Campus Lab A",
                    status: "Online",
                    avatar: "https://picsum.photos/seed/sahulham/300/300",
                    cover: "https://picsum.photos/seed/cover1/1200/400",
                    projects: [
                        { name: "Predictive Model", completion: 85, role: "Lead Dev" },
                        { name: "Inventory System", completion: 100, role: "Full Stack" }
                    ],
                    modules: {
                        caseInsights: "Analyzed student performance data to build a predictive model. Key project included a full-stack inventory system for campus logistics.",
                        visualThemes: "Glassmorphism Dashboard, Dark Mode UI, Neomorphism Icons."
                    },
                    skills: ["Python", "React", "Data Science"]
                },
                {
                    id: 2,
                    name: "John Doe",
                    role: "Design Student",
                    email: "john.doe@university.edu",
                    location: "Studio 4B",
                    status: "Offline",
                    avatar: "https://picsum.photos/seed/john/300/300",
                    cover: "https://picsum.photos/seed/cover2/1200/400",
                    projects: [
                        { name: "Sustainable Packaging", completion: 60, role: "Designer" },
                        { name: "Brand Identity", completion: 90, role: "Art Director" }
                    ],
                    modules: {
                        caseInsights: "Created a sustainable packaging design brand identity. Winner of the 2023 Student Design Award.",
                        visualThemes: "Minimalist, Retro-Wave, Cyberpunk."
                    },
                    skills: ["Figma", "Illustrator", "UX Research"]
                },
                {
                    id: 3,
                    name: "Jane Smith",
                    role: "Data Science Student",
                    email: "jane.smith@university.edu",
                    location: "Library Lab 2",
                    status: "Online",
                    avatar: "https://picsum.photos/seed/jane/300/300",
                    cover: "https://picsum.photos/seed/cover3/1200/400",
                    projects: [
                        { name: "Climate Viz", completion: 45, role: "Analyst" },
                        { name: "Web Scraper", completion: 100, role: "Developer" }
                    ],
                    modules: {
                        caseInsights: "Researched climate change data visualization patterns. Built a Python-based web scraper for open data.",
                        visualThemes: "Corporate Clean, Data-Heavy, Charts & Graphs."
                    },
                    skills: ["Python", "Tableau", "SQL"]
                }
            ],
            delay: (ms) => new Promise(resolve => setTimeout(resolve, ms)),
            async getProfiles() { await this.delay(800); return this.profiles; },
            async getProfileById(id) { await this.delay(500); return this.profiles.find(p => p.id === parseInt(id)); }
        };

        /*******************************************************
         * UI COMPONENTS
         *******************************************************/

        const Toast = ({ message, onClose }) => {
            React.useEffect(() => { const t = setTimeout(onClose, 3000); return () => clearTimeout(t); }, [onClose]);
            return (
                <div className="fixed top-5 right-5 z-50 bg-white border-l-4 border-primary shadow-2xl rounded-lg p-4 flex items-center gap-3 animate-enter min-w-[320px]">
                    <div className="bg-orange-100 text-primary p-2 rounded-full"><i className="ph-bold ph-check"></i></div>
                    <div>
                        <h4 className="font-bold text-gray-800 text-sm">Success</h4>
                        <p className="text-xs text-gray-500">{message}</p>
                    </div>
                </div>
            );
        };

        const Badge = ({ children, color = 'gray' }) => {
            const colors = {
                gray: 'bg-gray-100 text-gray-600',
                green: 'bg-green-100 text-green-700',
                orange: 'bg-orange-100 text-orange-700'
            };
            return <span className={`px-2.5 py-0.5 rounded-full text-xs font-semibold ${colors[color]}`}>{children}</span>;
        };

        const Button = ({ children, onClick, variant='primary', className='', icon=null }) => {
            const base = "inline-flex items-center justify-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 active:scale-95";
            const variants = {
                primary: "bg-primary hover:bg-primaryHover text-white shadow-glow",
                secondary: "bg-white hover:bg-gray-50 text-gray-700 border border-gray-200 shadow-soft",
                ghost: "text-gray-500 hover:text-primary hover:bg-orange-50"
            };
            return (
                <button onClick={onClick} className={`${base} ${variants[variant]} ${className}`}>
                    {icon && <i className={`ph ${icon} mr-2 text-lg`}></i>}{children}
                </button>
            );
        };

        const SkeletonCard = () => (
            <div className="bg-white rounded-2xl shadow-soft p-6 border border-gray-100">
                <div className="h-20 skeleton rounded-xl mb-12"></div>
                <div className="h-4 skeleton w-3/4 rounded mb-2"></div>
                <div className="h-3 skeleton w-1/2 rounded mb-4"></div>
                <div className="space-y-2">
                    <div className="h-2 skeleton w-full rounded"></div>
                    <div className="h-2 skeleton w-5/6 rounded"></div>
                </div>
            </div>
        );

        /*******************************************************
         * PAGE 1: DASHBOARD
         *******************************************************/
        const ProfileCard = ({ profile, onClick }) => (
            <div 
                onClick={() => onClick(profile.id)}
                className="group bg-white rounded-2xl p-6 shadow-soft hover:shadow-xl border border-gray-100 hover:border-orange-200 transition-all duration-300 cursor-pointer relative animate-enter"
            >
                <div className="flex justify-between items-start mb-4">
                    <div className="relative">
                        <img src={profile.avatar} alt={profile.name} className="w-20 h-20 rounded-full object-cover border-2 border-white shadow-md group-hover:scale-105 transition-transform" />
                        <span className={`absolute bottom-0 right-0 w-3.5 h-3.5 rounded-full border-2 border-white ${profile.status === 'Online' ? 'bg-green-500' : 'bg-gray-400'}`}></span>
                    </div>
                    <Badge color={profile.status === 'Online' ? 'green' : 'gray'}>{profile.status}</Badge>
                </div>
                <h3 className="text-lg font-bold text-gray-900 group-hover:text-primary transition-colors">{profile.name}</h3>
                <p className="text-sm text-gray-500 font-medium mb-3">{profile.role}</p>
                <p className="text-xs text-gray-400 line-clamp-2 mb-4 leading-relaxed">View projects, insights, and visual themes.</p>
                <div className="flex items-center gap-2 pt-3 border-t border-gray-50">
                    <i className="ph ph-briefcase text-primary"></i>
                    <span className="text-xs text-gray-500 font-semibold uppercase tracking-wide">{profile.projects.length} Projects</span>
                </div>
            </div>
        );

        const Dashboard = ({ onNavigate, onNotify }) => {
            const [profiles, setProfiles] = React.useState([]);
            const [filtered, setFiltered] = React.useState([]);
            const [search, setSearch] = React.useState('');
            const [loading, setLoading] = React.useState(true);

            React.useEffect(() => {
                DB.getProfiles().then(data => {
                    setProfiles(data);
                    setFiltered(data);
                    setLoading(false);
                });
            }, []);

            React.useEffect(() => {
                if (search === '') {
                    setFiltered(profiles);
                } else {
                    const lower = search.toLowerCase();
                    setFiltered(profiles.filter(p => p.name.toLowerCase().includes(lower) || p.role.toLowerCase().includes(lower)));
                }
            }, [search, profiles]);

            return (
                <div className="p-8 max-w-7xl mx-auto w-full">
                    <div className="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-enter">
                        <div>
                            <h1 className="text-2xl font-bold text-gray-800">Student Portal</h1>
                            <p className="text-sm text-gray-500">Manage student profiles and assessments.</p>
                        </div>
                        <div className="flex gap-3">
                            <div className="relative">
                                <i className="ph ph-magnifying-glass absolute left-3 top-2.5 text-gray-400"></i>
                                <input 
                                    type="text" 
                                    placeholder="Search students..." 
                                    className="pl-10 pr-4 py-2 rounded-lg border border-gray-200 bg-white focus:outline-none focus:ring-2 focus:ring-primary/50 text-sm w-64 transition-all shadow-soft"
                                    value={search}
                                    onChange={(e) => setSearch(e.target.value)}
                                />
                            </div>
                            <Button icon="ph-plus" onClick={() => onNotify("Add Student Modal Triggered")}>Add New</Button>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 animate-enter delay-100">
                        <div className="bg-white p-6 rounded-2xl shadow-soft border border-gray-100 flex items-center gap-4">
                            <div className="w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center text-primary text-2xl"><i className="ph-fill ph-users"></i></div>
                            <div><h4 className="text-2xl font-bold text-gray-800">{profiles.length}</h4><p className="text-xs text-gray-500 uppercase font-semibold">Total Students</p></div>
                        </div>
                        <div className="bg-white p-6 rounded-2xl shadow-soft border border-gray-100 flex items-center gap-4">
                            <div className="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center text-green-600 text-2xl"><i className="ph-fill ph-chart-line-up"></i></div>
                            <div><h4 className="text-2xl font-bold text-gray-800">98%</h4><p className="text-xs text-gray-500 uppercase font-semibold">Placement Rate</p></div>
                        </div>
                        <div className="bg-white p-6 rounded-2xl shadow-soft border border-gray-100 flex items-center gap-4">
                            <div className="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-2xl"><i className="ph-fill ph-trend-up"></i></div>
                            <div><h4 className="text-2xl font-bold text-gray-800">Active</h4><p className="text-xs text-gray-500 uppercase font-semibold">Current Status</p></div>
                        </div>
                    </div>

                    {loading ? (
                        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                            {[1,2,3].map(i => <SkeletonCard key={i} />)}
                        </div>
                    ) : (
                        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                            {filtered.length > 0 ? (
                                filtered.map(p => <ProfileCard key={p.id} profile={p} onClick={onNavigate} />)
                            ) : (
                                <div className="col-span-full text-center py-20 text-gray-400">No students found matching "{search}"</div>
                            )}
                        </div>
                    )}
                </div>
            );
        };

        /*******************************************************
         * PAGE 2: ANALYTICS (Fully Functional)
         *******************************************************/
        const AnalyticsView = ({ onNotify }) => {
            return (
                <div className="p-8 max-w-7xl mx-auto w-full animate-enter">
                    <div className="flex justify-between items-center mb-8">
                        <div>
                            <h1 className="text-2xl font-bold text-gray-800">Analytics Dashboard</h1>
                            <p className="text-sm text-gray-500">Overview of student performance and metrics.</p>
                        </div>
                        <Button variant="secondary" icon="ph-download" onClick={() => onNotify("Downloading report PDF...")}>Export Report</Button>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                        <div className="bg-white p-6 rounded-2xl shadow-soft border border-gray-100">
                            <p className="text-xs text-gray-500 uppercase font-semibold mb-1">Total Projects</p>
                            <h3 className="text-3xl font-bold text-gray-800">142</h3>
                            <p className="text-xs text-green-500 font-bold mt-2">↑ 12% from last month</p>
                        </div>
                        <div className="bg-white p-6 rounded-2xl shadow-soft border border-gray-100">
                            <p className="text-xs text-gray-500 uppercase font-semibold mb-1">Avg. Completion</p>
                            <h3 className="text-3xl font-bold text-gray-800">86%</h3>
                            <p className="text-xs text-green-500 font-bold mt-2">↑ 4% improvement</p>
                        </div>
                        <div className="bg-white p-6 rounded-2xl shadow-soft border border-gray-100">
                            <p className="text-xs text-gray-500 uppercase font-semibold mb-1">Active Students</p>
                            <h3 className="text-3xl font-bold text-gray-800">3</h3>
                            <p className="text-xs text-gray-400 mt-2">Currently Online</p>
                        </div>
                        <div className="bg-white p-6 rounded-2xl shadow-soft border border-gray-100">
                            <p className="text-xs text-gray-500 uppercase font-semibold mb-1">Skills Mapped</p>
                            <h3 className="text-3xl font-bold text-gray-800">12</h3>
                            <p className="text-xs text-primary font-bold mt-2">Top Categories</p>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        {/* Simulated Bar Chart */}
                        <div className="bg-white p-6 rounded-2xl shadow-soft border border-gray-100">
                            <h3 className="text-lg font-bold text-gray-800 mb-6">Project Completion Rates</h3>
                            <div className="flex items-end justify-between h-48 space-x-4">
                                {[
                                    { name: "CS", val: 85 },
                                    { name: "Design", val: 65 },
                                    { name: "Data", val: 45 },
                                    { name: "Eng", val: 90 }
                                ].map((item, idx) => (
                                    <div key={idx} className="flex flex-col items-center w-full group">
                                        <div className="relative w-full flex justify-center">
                                            <div 
                                                style={{ height: `${item.val}%` }}
                                                className={`w-full max-w-[40px] bg-primary/20 group-hover:bg-primary transition-all duration-500 rounded-t-lg relative`}
                                            >
                                                <span className="absolute -top-6 left-1/2 -translate-x-1/2 text-xs font-bold text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity">{item.val}%</span>
                                            </div>
                                        </div>
                                        <p className="text-xs font-semibold text-gray-400 mt-2">{item.name}</p>
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Department Breakdown */}
                        <div className="bg-white p-6 rounded-2xl shadow-soft border border-gray-100">
                            <h3 className="text-lg font-bold text-gray-800 mb-6">Student Department Distribution</h3>
                            <div className="space-y-4">
                                {[
                                    { dept: "Computer Science", pct: 60 },
                                    { dept: "Design", pct: 25 },
                                    { dept: "Data Science", pct: 15 }
                                ].map((item, idx) => (
                                    <div key={idx}>
                                        <div className="flex justify-between text-sm mb-1">
                                            <span className="font-medium text-gray-700">{item.dept}</span>
                                            <span className="text-gray-500">{item.pct}%</span>
                                        </div>
                                        <div className="w-full bg-gray-100 rounded-full h-2">
                                            <div 
                                                className="bg-primary h-2 rounded-full transition-all duration-1000" 
                                                style={{ width: `${item.pct}%` }}
                                            ></div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        /*******************************************************
         * PAGE 3: SETTINGS (Fully Functional)
         *******************************************************/
        const SettingsView = ({ onNotify }) => {
            const [form, setForm] = React.useState({
                name: "Admin User",
                email: "admin@portal.com",
                notifications: true,
                darkMode: false
            });

            const handleChange = (e) => {
                const { name, value, type, checked } = e.target;
                setForm(prev => ({
                    ...prev,
                    [name]: type === 'checkbox' ? checked : value
                }));
            };

            const handleSave = () => {
                // Simulate API call
                setTimeout(() => {
                    onNotify(`Profile Updated: ${form.name}`);
                }, 500);
            };

            return (
                <div className="p-8 max-w-4xl mx-auto w-full animate-enter">
                    <h1 className="text-2xl font-bold text-gray-800 mb-6">Account Settings</h1>
                    
                    <div className="bg-white rounded-2xl shadow-soft border border-gray-100 overflow-hidden">
                        {/* Header */}
                        <div className="px-6 py-4 border-b border-gray-100 bg-gray-50">
                            <h3 className="font-bold text-gray-700">Profile Information</h3>
                        </div>
                        
                        <div className="p-6 space-y-6">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-1">Display Name</label>
                                <input 
                                    type="text" 
                                    name="name"
                                    value={form.name}
                                    onChange={handleChange}
                                    className="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                                <input 
                                    type="email" 
                                    name="email"
                                    value={form.email}
                                    onChange={handleChange}
                                    className="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"
                                />
                            </div>
                        </div>

                        {/* Toggles */}
                        <div className="px-6 py-4 border-t border-gray-100 space-y-4">
                            <div className="flex items-center justify-between">
                                <div>
                                    <p className="text-sm font-medium text-gray-700">Email Notifications</p>
                                    <p className="text-xs text-gray-500">Receive daily summaries.</p>
                                </div>
                                <label className="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" name="notifications" checked={form.notifications} onChange={handleChange} className="sr-only peer" />
                                    <div className="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                </label>
                            </div>
                            
                            <div className="flex items-center justify-between">
                                <div>
                                    <p className="text-sm font-medium text-gray-700">Dark Mode</p>
                                    <p className="text-xs text-gray-500">Toggle application theme.</p>
                                </div>
                                <label className="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" name="darkMode" checked={form.darkMode} onChange={handleChange} className="sr-only peer" />
                                    <div className="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                                </label>
                            </div>
                        </div>

                        <div className="px-6 py-4 border-t border-gray-100 bg-gray-50 flex justify-end gap-3">
                            <Button variant="ghost">Cancel</Button>
                            <Button onClick={handleSave}>Save Changes</Button>
                        </div>
                    </div>
                </div>
            );
        };

        /*******************************************************
         * PAGE 4: PROFILE DETAILS
         *******************************************************/
        const DetailView = ({ profileId, onBack, onNotify }) => {
            const [profile, setProfile] = React.useState(null);
            const [loading, setLoading] = React.useState(true);

            React.useEffect(() => {
                window.scrollTo(0,0);
                DB.getProfileById(profileId).then(data => {
                    setProfile(data);
                    setLoading(false);
                });
            }, [profileId]);

            if (loading) return <div className="p-8"><SkeletonCard /></div>;
            if (!profile) return <div>Profile not found</div>;

            return (
                <div className="p-4 md:p-8 max-w-6xl mx-auto w-full animate-enter">
                    <div className="flex items-center justify-between mb-6">
                        <button onClick={onBack} className="flex items-center text-gray-500 hover:text-primary transition font-medium text-sm">
                            <i className="ph ph-arrow-left mr-2 text-lg"></i> Back to Directory
                        </button>
                        <div className="flex gap-2">
                            <Button variant="ghost" icon="ph-share-network" onClick={() => onNotify("Profile shared to clipboard")}>Share</Button>
                            <Button variant="secondary" icon="ph-pencil-simple" onClick={() => onNotify("Edit mode enabled")}>Edit Profile</Button>
                        </div>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-12 gap-8">
                        <div className="lg:col-span-4 space-y-6">
                            <div className="bg-white rounded-2xl shadow-soft border border-gray-100 overflow-hidden">
                                <div className="h-32 bg-gradient-to-r from-primary to-orange-400"></div>
                                <div className="px-6 pb-6 text-center">
                                    <img src={profile.avatar} className="w-32 h-32 rounded-full border-4 border-white shadow-lg mx-auto -mt-16 bg-white object-cover" />
                                    <h1 className="text-2xl font-bold text-gray-900 mt-4">{profile.name}</h1>
                                    <p className="text-primary font-medium mb-4">{profile.role}</p>
                                    <Button className="w-full shadow-glow" onClick={() => onNotify(`Contact email sent to ${profile.name}`)} >Contact Student</Button>
                                </div>
                            </div>
                            
                            <div className="bg-white rounded-2xl shadow-soft border border-gray-100 p-6">
                                <h3 className="text-sm font-bold text-gray-400 uppercase tracking-wider mb-4">Contact Info</h3>
                                <div className="space-y-4 text-sm">
                                    <div className="flex items-center gap-3 text-gray-600"><i className="ph ph-envelope-simple text-lg text-primary"></i> {profile.email}</div>
                                    <div className="flex items-center gap-3 text-gray-600"><i className="ph ph-map-pin text-lg text-primary"></i> {profile.location}</div>
                                </div>
                            </div>
                        </div>

                        <div className="lg:col-span-8 space-y-6">
                            <div className="bg-white rounded-2xl shadow-soft border border-gray-100 p-8">
                                <div className="flex items-center gap-3 mb-6 border-b border-gray-50 pb-4">
                                    <div className="p-2 bg-orange-50 rounded-lg text-primary text-xl"><i className="ph-fill ph-lightbulb"></i></div>
                                    <h2 className="text-xl font-bold text-gray-800">Case Insights & Key Projects</h2>
                                </div>
                                <p className="text-gray-600 leading-relaxed mb-6">{profile.modules.caseInsights}</p>
                                
                                <div className="space-y-4">
                                    {profile.projects.map((proj, idx) => (
                                        <div key={idx} className="bg-gray-50 rounded-xl p-4 border border-gray-100">
                                            <div className="flex justify-between items-center mb-2">
                                                <h4 className="font-bold text-gray-800 text-sm">{proj.name}</h4>
                                                <span className="text-xs font-bold text-primary">{proj.completion}%</span>
                                            </div>
                                            <div className="w-full bg-gray-200 rounded-full h-2 mb-2">
                                                <div className="bg-primary h-2 rounded-full transition-all duration-1000" style={{ width: `${proj.completion}%` }}></div>
                                            </div>
                                            <span className="text-xs text-gray-500 bg-white px-2 py-1 rounded border border-gray-200">{proj.role}</span>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            <div className="bg-white rounded-2xl shadow-soft border border-gray-100 p-8">
                                <div className="flex items-center gap-3 mb-6 border-b border-gray-50 pb-4">
                                    <div className="p-2 bg-pink-50 rounded-lg text-pink-500 text-xl"><i className="ph-fill ph-paint-brush-broad"></i></div>
                                    <h2 className="text-xl font-bold text-gray-800">Visual Themes & Skills</h2>
                                </div>
                                
                                <div className="mb-6">
                                    <p className="text-gray-600 leading-relaxed mb-2">{profile.modules.visualThemes}</p>
                                </div>

                                <div className="flex flex-wrap gap-2">
                                    {profile.skills.map((skill, i) => (
                                        <span key={i} onClick={() => onNotify(`Filtering by ${skill}`)} className="cursor-pointer px-4 py-2 bg-gray-50 hover:bg-primary hover:text-white border border-gray-200 hover:border-primary text-gray-700 rounded-lg text-sm font-medium transition-colors">
                                            {skill}
                                        </span>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        /*******************************************************
         * MAIN APP SHELL
         *******************************************************/
        const App = () => {
            const [view, setView] = React.useState('dashboard');
            const [selectedId, setSelectedId] = React.useState(null);
            const [toast, setToast] = React.useState(null);

            const showToast = (msg) => setToast(msg);

            return (
                <div className="flex h-screen bg-background font-sans overflow-hidden">
                    {toast && <Toast message={toast} onClose={() => setToast(null)} />}
                    
                    <aside className="w-64 bg-white border-r border-gray-200 flex-col hidden md:flex z-20">
                        <div className="h-16 flex items-center px-6 border-b border-gray-100">
                            <div className="w-8 h-8 bg-primary rounded-lg flex items-center justify-center text-white mr-3 shadow-glow">
                                <i className="ph-fill ph-student text-xl"></i>
                            </div>
                            <span className="font-bold text-lg text-gray-800 tracking-tight">Portal</span>
                        </div>
                        <nav className="flex-1 px-4 py-6 space-y-2">
                            <button 
                                onClick={() => { setView('dashboard'); setSelectedId(null); }}
                                className={`w-full flex items-center px-4 py-3 rounded-xl text-sm font-medium transition-all ${view === 'dashboard' ? 'bg-orange-50 text-primary shadow-sm' : 'text-gray-500 hover:bg-gray-50 hover:text-gray-900'}`}
                            >
                                <i className={`ph ph-squares-four text-xl mr-3 ${view === 'dashboard' ? 'text-primary' : 'text-gray-400'}`}></i>
                                Students
                            </button>
                            
                            <button 
                                onClick={() => { setView('analytics'); setSelectedId(null); }}
                                className={`w-full flex items-center px-4 py-3 rounded-xl text-sm font-medium transition-all ${view === 'analytics' ? 'bg-orange-50 text-primary shadow-sm' : 'text-gray-500 hover:bg-gray-50 hover:text-gray-900'}`}
                            >
                                <i className={`ph ph-chart-bar text-xl mr-3 ${view === 'analytics' ? 'text-primary' : 'text-gray-400'}`}></i>
                                Analytics
                            </button>

                            <button 
                                onClick={() => { setView('settings'); setSelectedId(null); }}
                                className={`w-full flex items-center px-4 py-3 rounded-xl text-sm font-medium transition-all ${view === 'settings' ? 'bg-orange-50 text-primary shadow-sm' : 'text-gray-500 hover:bg-gray-50 hover:text-gray-900'}`}
                            >
                                <i className={`ph ph-gear text-xl mr-3 ${view === 'settings' ? 'text-primary' : 'text-gray-400'}`}></i>
                                Settings
                            </button>
                        </nav>
                        <div className="p-4 border-t border-gray-100">
                            <div className="flex items-center gap-3 p-2 hover:bg-gray-50 rounded-xl cursor-pointer transition" onClick={() => showToast("Admin Profile Clicked")}>
                                <img src="https://picsum.photos/seed/user/40/40" className="w-10 h-10 rounded-full" />
                                <div className="overflow-hidden">
                                    <p className="text-sm font-bold text-gray-900">Admin User</p>
                                    <p className="text-xs text-gray-500 truncate">admin@portal.com</p>
                                </div>
                            </div>
                        </div>
                    </aside>

                    <div className="flex-1 flex flex-col min-w-0 overflow-hidden relative">
                        <main className="flex-1 overflow-y-auto">
                            {view === 'dashboard' && <Dashboard onNavigate={(id) => { setSelectedId(id); setView('detail'); }} onNotify={showToast} />}
                            {view === 'detail' && <DetailView profileId={selectedId} onBack={() => setView('dashboard')} onNotify={showToast} />}
                            {view === 'analytics' && <AnalyticsView onNotify={showToast} />}
                            {view === 'settings' && <SettingsView onNotify={showToast} />}
                        </main>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>